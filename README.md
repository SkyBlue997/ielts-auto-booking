# IELTS 雅思考位监控助手 Pro

适用于中国大陆雅思考试官网（ielts.neea.cn）的油猴脚本。主要功能是自动监控考位、识别验证码、发现空位后推送通知。自动报名功能因账户余额不足未能实现。

> **注意**：由于浏览器的后台限流机制，运行脚本时需要保持浏览器窗口在前台，否则定时器会被降速。

## 界面截图

<p align="center">
  <img src="images/GUI.png" alt="程序界面" width="450"/>
</p>

## 主要功能

### 自动登录

脚本会保存你的账号密码（存在浏览器本地，密码经过加密处理），下次打开页面自动填充。如果登录过期了会自动重新登录，不用手动操作。

### 考位监控

这是核心功能。你可以：

- 选择纸笔考试或机考
- 同时监控多个城市（比如同时盯着北京、上海、深圳）
- 设置想查询的考试日期
- 用关键词过滤考点，比如只想去"赛格"考点，就填"赛格"

设置好之后点"开始监控"，脚本就会按照你设的间隔（默认5秒）不停刷新查询。一旦发现有考位，会立刻通知你。

### 验证码识别

登录需要输入验证码，脚本支持两种自动识别方式：

1. **jfbym 打码平台**（[注册链接](https://console.jfbym.com/register/TG39318)）：需要注册账号充值，然后把 Token 填到界面里。识别速度快，准确率高，推荐使用。
2. **本地 OCR**：需要自己搭建 OCR 服务，适合有技术基础的用户。
3. **手动输入**：不配置打码的话，验证码会显示在界面上，手动输入即可。

识别失败会自动重试。

### 推送通知

发现考位后怎么通知你？目前支持三种方式：

**Bark 推送**（推荐 iPhone 用户）
- 在 App Store 下载 Bark 应用
- 打开应用会看到你的推送地址，格式是 `https://api.day.app/xxxxx`
- 把这个地址填到脚本里，开启 Bark 推送开关
- 可以点"测试推送"验证是否配置正确

**桌面通知**
- 浏览器原生的通知功能
- 需要允许网站发送通知

**声音提醒**
- 发现考位时会播放提示音

## 安装方法

**方式一**：直接从 [Greasy Fork](https://greasyfork.org/zh-CN/scripts/561197-ielts-%E9%9B%85%E6%80%9D%E8%80%83%E4%BD%8D%E7%9B%91%E6%8E%A7%E5%8A%A9%E6%89%8B) 安装

**方式二**：手动安装
1. 先装 Tampermonkey 浏览器扩展（[官网下载](https://www.tampermonkey.net/)）
2. 点 Tampermonkey 图标，选"添加新脚本"
3. 把 `ielts_auto_hook.user.js` 的内容全部复制进去，保存
4. 打开 https://ielts.neea.cn/homepage# 进行登录，或者登录后在个人主页启动脚本

## 使用步骤

### 第一步：登录

在面板里输入你的雅思官网账号密码，点登录。如果配置了打码 Token，验证码会自动识别；没配置的话需要手动输入。

登录成功后建议勾选"记住登录"，下次就不用重复输入了。

### 第二步：配置监控

- **考试类型**：选纸笔还是机考
- **目标城市**：勾选你想监控的城市，可以多选
- **查询日期**：填写想查询的考试日期
- **考点关键词**：可选，用逗号分隔多个关键词
- **刷新间隔**：建议5-15秒，太快容易被官网限制

### 第三步：配置通知（可选但推荐）

填写 Bark URL 并开启推送，这样手机能收到通知。不然你得一直盯着电脑看。

### 第四步：开始监控

点"开始监控"按钮，右侧日志区会显示查询记录。底部状态栏会统计查询次数和发现的考位数。

发现考位后会自动推送通知，日志里也会高亮显示。

## 配置项说明

| 配置项 | 说明 | 示例 |
|--------|------|------|
| 考试类型 | IELTSPBT 是纸笔，IELTSCDI 是机考 | IELTSCDI |
| 目标城市 | 支持多选 | 北京、深圳 |
| 查询日期 | 想监控的考试日期 | 2026-01-15 |
| 考点关键词 | 多个用逗号分开 | 赛格,深大 |
| 刷新间隔 | 单位是秒 | 5 |
| 打码Token | jfbym 平台的 Token | 你的token |
| Bark URL | Bark 应用的推送地址 | https://api.day.app/xxx |

## 常见问题

**Q: 为什么登录总是失败？**

验证码识别可能不准，多试几次。或者检查打码 Token 是否正确、余额是否充足。

**Q: 监控一段时间后查询失败了？**

可能是登录过期了，刷新页面重新登录即可。

**Q: 间隔设多少合适？**

建议5-15秒。太快（比如1秒）可能会被官网限流。

**Q: 支持同时监控多个账号吗？**

不支持。一个浏览器窗口只能登录一个账号。

## 免责声明

这个脚本只是个人学习项目，不保证能抢到考位。使用过程中出现任何问题，包括但不限于账号被封、错过考位等，作者概不负责。
